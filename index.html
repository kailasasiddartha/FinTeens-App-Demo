<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FinTeens Prototype - Updated 2025 Edition</title>
  <style>
    /* Enhanced styles for creativity and visual appeal */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
    *{box-sizing:border-box;font-family:'Inter', system-ui, Arial, sans-serif}
    :root{
      --primary:#0b66b3;
      --accent:#ffb703;
      --accent-dark:#fb5607;
      --success:#28a745;
      --bg1:#fff3e8;
      --bg2:#e8f7ff;
      --shadow-light:0 4px 12px rgba(11,102,179,0.1);
      --shadow-hover:0 8px 24px rgba(11,102,179,0.15);
    }
    body{
      background:linear-gradient(135deg,var(--bg1),var(--bg2));
      margin:0;padding:18px;color:#06283d;
      animation:fadeIn 0.8s ease-out;
    }
    @keyframes fadeIn{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
    .container{max-width:980px;margin:0 auto}
    .topbar{
      display:flex;justify-content:space-between;align-items:center;
      background:linear-gradient(135deg,white, rgba(255,255,255,0.8));
      padding:16px 20px;border-radius:16px;margin-bottom:20px;
      box-shadow:var(--shadow-light);
      backdrop-filter:blur(10px);
      animation:slideDown 0.6s ease-out;
    }
    @keyframes slideDown{from{transform:translateY(-20px);opacity:0;}to{transform:translateY(0);opacity:1;}}
    h1{margin:0;color:var(--primary);font-weight:700;font-size:1.8em;letter-spacing:-0.5px;}
    .card{
      background:linear-gradient(145deg,white, rgba(255,255,255,0.9));
      padding:24px;border-radius:20px;margin-top:20px;box-shadow:var(--shadow-light);
      transition:transform 0.3s ease, box-shadow 0.3s ease;
      position:relative;overflow:hidden;
      animation:cardEnter 0.5s ease-out;
    }
    @keyframes cardEnter{from{opacity:0;transform:translateY(30px) scale(0.95);}to{opacity:1;transform:translateY(0) scale(1);}}
    .card::before{content:'';position:absolute;top:0;left:0;width:100%;height:4px;background:linear-gradient(90deg,var(--primary),var(--accent));}
    .card:hover{transform:translateY(-4px) scale(1.02);box-shadow:var(--shadow-hover);}
    .center{text-align:center}
    .small{font-size:13px}
    .hidden{display:none}
    input{
      display:block;padding:14px;margin:12px 0;border-radius:12px;border:2px solid #e6eef7;
      width:100%;font-size:16px;transition:border-color 0.3s ease, transform 0.2s ease;
      background:rgba(255,255,255,0.8);
    }
    input:focus{border-color:var(--primary);outline:none;box-shadow:0 0 0 3px rgba(11,102,179,0.1);transform:scale(1.01);}
    button{
      background:linear-gradient(135deg,var(--primary),#085a9a);color:#fff;border:none;
      padding:12px 20px;border-radius:12px;cursor:pointer;font-weight:500;
      transition:transform 0.2s ease, box-shadow 0.2s ease;
      animation:pulse 3s infinite;
    }
    @keyframes pulse{0%,100%{transform:scale(1);}50%{transform:scale(1.02);}}
    button:hover{transform:translateY(-2px) scale(1.05);box-shadow:0 4px 12px rgba(11,102,179,0.3);}
    button.ghost{
      background:transparent;color:var(--primary);border:2px solid #cfe6ff;
      transition:border-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
    }
    button.ghost:hover{border-color:var(--accent);color:var(--accent);background:rgba(255,183,3,0.1);transform:scale(1.02);}
    .row{display:flex;gap:12px;align-items:center;flex-wrap:wrap;}
    .row.space{justify-content:space-between}
    .welcomeCard{flex:1}
    .actions{display:flex;flex-direction:column;gap:10px;min-width:150px}
    .progressbar{
      background:#f1f5f9;border-radius:12px;height:8px;overflow:hidden;margin-top:12px;
      box-shadow:inset 0 2px 4px rgba(0,0,0,0.05);
    }
    .bar{
      height:100%;width:0%;background:linear-gradient(90deg,var(--accent),var(--accent-dark));
      border-radius:12px;transition:width 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      box-shadow:0 0 10px rgba(255,183,3,0.5);
      animation:glow 2s ease-in-out infinite alternate;
    }
    @keyframes glow{from{box-shadow:0 0 10px rgba(255,183,3,0.5);}to{box-shadow:0 0 20px rgba(255,183,3,0.8);}}
    .badges{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .badge{
      padding:10px 14px;border-radius:50px;background:linear-gradient(135deg,#ffd6a5,#fdc49b);
      color:#6b2a00;font-weight:600;font-size:14px;
      display:flex;align-items:center;gap:6px;
      transition:transform 0.2s ease, box-shadow 0.2s ease;
      box-shadow:0 2px 8px rgba(251,86,7,0.2);
      animation:badgeBounce 0.6s ease-out;
    }
    @keyframes badgeBounce{0%{transform:scale(0.8) rotate(-5deg);}50%{transform:scale(1.1) rotate(2deg);}100%{transform:scale(1) rotate(0);}}
    .badge:hover{transform:scale(1.05) rotate(2deg);}
    .badge::before{content:'üèÜ';font-size:16px;}
    .muted{color:#667784;font-style:italic;}
    .cardsGrid{
      display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-top:16px;
    }
    .learnCard, .activityCard{
      padding:20px;border-radius:16px;background:linear-gradient(145deg,#fff,#fffef6);
      box-shadow:var(--shadow-light);transition:transform 0.3s ease, box-shadow 0.3s ease;
      position:relative;overflow:hidden;
      animation:cardFlip 0.8s ease-out;
    }
    @keyframes cardFlip{from{transform:rotateY(90deg);opacity:0;}to{transform:rotateY(0);opacity:1;}}
    .learnCard::before, .activityCard::before{
      content:'';position:absolute;top:0;left:0;right:0;height:4px;
      background:linear-gradient(90deg,var(--primary),var(--accent));
    }
    .learnCard:hover, .activityCard:hover{transform:translateY(-6px) rotateX(5deg);box-shadow:var(--shadow-hover);}
    .learnBtn, .activityBtn{
      margin-top:12px;background:linear-gradient(135deg,var(--accent),var(--accent-dark));
      color:#fff;border:none;padding:10px;border-radius:10px;width:100%;font-weight:600;
      transition:transform 0.2s ease, box-shadow 0.2s ease;
    }
    .learnBtn:hover, .activityBtn:hover{transform:scale(1.02) rotate(1deg);box-shadow:0 4px 12px rgba(255,183,3,0.4);}
    .lesson{margin-top:16px}
    .mentorBox{display:flex;flex-direction:column;gap:12px}
    .mentorLog{
      min-height:320px;max-height:400px;border-radius:14px;padding:16px;background:#f8fafc;
      border:2px solid #d1e3f8;overflow-y:auto;
      animation:fadeInUp 0.5s ease-out;
    }
    @keyframes fadeInUp{from{opacity:0;transform:translateY(20px);}to{opacity:1;transform:translateY(0);}}
    .mentorEntry, .mentorBot {
      margin:12px 0;padding:12px;border-radius:12px;
      animation:slideIn 0.3s ease-out;
      display:flex;gap:8px;align-items:flex-start;
    }
    @keyframes slideIn{from{opacity:0;transform:translateX(-20px);}to{opacity:1;transform:translateX(0);}}
    .mentorEntry { 
      border-radius:12px 12px 12px 4px; 
      background:rgba(11,102,179,0.05); 
      margin-left:auto; 
      flex-direction:row-reverse;
      text-align:right;
      animation:slideInRight 0.3s ease-out;
    }
    @keyframes slideInRight{from{opacity:0;transform:translateX(20px);}to{opacity:1;transform:translateX(0);}}
    .mentorBot { 
      border-radius:12px 12px 4px 12px; 
      background:#f8f9fa; 
      border-left:4px solid var(--success);
    }
    .mentor-avatar {
      font-size:20px; flex-shrink:0;
      animation:bounceIn 0.6s ease-out;
    }
    @keyframes bounceIn{0%{transform:scale(0);}50%{transform:scale(1.2);}100%{transform:scale(1);}}
    .mentor-content {
      flex:1;
    }
    .mentor-timestamp {
      font-size:11px; color:#999; margin-bottom:4px;
    }
    .mentor-text {
      line-height:1.4;
    }
    .quick-questions {
      display:flex; flex-wrap:wrap; gap:8px; margin-top:8px; padding:12px; background:#f0f8ff; border-radius:12px;
      animation:fadeIn 0.5s ease-out;
    }
    .quick-btn {
      background:transparent; border:1px solid var(--primary); color:var(--primary); padding:8px 12px; border-radius:20px; font-size:14px; cursor:pointer; transition:all 0.2s;
      animation:quickPulse 2s infinite;
    }
    @keyframes quickPulse{0%,100%{opacity:1;}50%{opacity:0.7;transform:scale(1.05);}}
    .quick-btn:hover {
      background:var(--primary); color:white; transform:scale(1.1);
    }
    footer{
      margin-top:20px;text-align:center;color:#234;
      background:linear-gradient(135deg,white, rgba(255,255,255,0.8));
      padding:16px;border-radius:16px;box-shadow:var(--shadow-light);
      animation:fadeIn 0.8s ease-out 0.5s both;
    }
    #answers button{
      display:block;width:100%;text-align:left;margin:10px 0;
      background:#f1f5f9;color:#06283d;border-radius:10px;padding:14px;border:none;
      transition:background 0.3s ease, transform 0.2s ease;
      animation:fadeInLeft 0.4s ease-out;
    }
    @keyframes fadeInLeft{from{opacity:0;transform:translateX(-20px);}to{opacity:1;transform:translateX(0);}}
    #answers button:hover{transform:translateX(4px) scale(1.02);}
    #answers button.correct{background:linear-gradient(135deg,#dff7e2,#c3e6cb);box-shadow:0 4px 12px rgba(40,167,69,0.2);animation:successShake 0.5s ease-out;}
    @keyframes successShake{0%,100%{transform:translateX(0);}25%{transform:translateX(-5px);}75%{transform:translateX(5px);}}
    #answers button.wrong{background:linear-gradient(135deg,#ffe6e6,#f8d7da);box-shadow:0 4px 12px rgba(220,53,69,0.2);animation:errorShake 0.5s ease-out;}
    @keyframes errorShake{0%,100%{transform:translateX(0) rotate(0);}25%{transform:translateX(-10px) rotate(-2deg);}75%{transform:translateX(10px) rotate(2deg);}}
    #questionArea h3{margin:0 0 12px 0;color:var(--primary);font-weight:600;}
    #userNameDisplay{font-weight:700;color:var(--primary);margin-right:12px;}
    #resetBtn{background:transparent;border:none;color:#c0392b;cursor:pointer;font-size:16px;}
    #resetBtn:hover{color:#a93226;transform:scale(1.2);}
    /* Enhanced MVP Modal Styles */
    .modal {
      position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%;
      background: rgba(6, 40, 61, 0.6); display: flex; align-items: center; justify-content: center;
      backdrop-filter: blur(8px); animation: modalFade 0.4s ease-out;
    }
    @keyframes modalFade{from{opacity:0;}to{opacity:1;}}
    .modal.hidden { display: none; }
    .modal-content {
      background: linear-gradient(145deg,white,#f8f9ff); margin: auto; padding: 0; border-radius: 20px;
      width: 90%; max-width: 520px; max-height: 85%; overflow-y: auto;
      box-shadow: 0 24px 48px rgba(6, 40, 61, 0.15); position: relative;
      animation: modalSlide 0.5s ease-out;
    }
    @keyframes modalSlide{from{opacity:0;transform:scale(0.9) translateY(20px);}to{opacity:1;transform:scale(1) translateY(0);}}
    .modal-header {
      display: flex; justify-content: space-between; align-items: center; padding: 20px;
      border-bottom: 1px solid #e6eef7; background: linear-gradient(135deg, var(--bg1), var(--bg2));
      border-radius:20px 20px 0 0;
    }
    .modal-header h3 { margin: 0; color: var(--primary); font-size: 1.4em; font-weight:600; }
    .close-btn {
      background: none; border: none; font-size: 28px; cursor: pointer; color: #667784; padding: 0;
      width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center;
      transition:background 0.3s ease, color 0.3s ease, transform 0.2s ease;
    }
    .close-btn:hover { background: #f1f5f9; color:var(--primary); transform:rotate(90deg) scale(1.1); }
    .modal-body { padding: 24px; text-align: center; }
    .steps { display: flex; flex-direction: column; gap: 16px; margin-top: 16px; }
    .step {
      padding: 16px; background: #f8fafc; border-radius: 12px; border-left: 5px solid var(--accent);
      text-align: left; opacity: 0.8; transition: all 0.4s ease; position:relative;
      box-shadow:0 2px 8px rgba(0,0,0,0.05);
      animation:stepSlide 0.5s ease-out;
    }
    @keyframes stepSlide{from{opacity:0;transform:translateX(-30px);}to{opacity:1;transform:translateX(0);}}
    .step::before{content:'‚ú®';position:absolute;top:12px;left:12px;font-size:18px;}
    .step.active {
      opacity: 1; transform:translateX(8px); background:linear-gradient(135deg,#fff,#f0f8ff);
      box-shadow:0 6px 20px rgba(255,183,3,0.15); border-left-color:var(--primary);
      animation:stepGlow 1s ease-in-out infinite alternate;
    }
    @keyframes stepGlow{from{box-shadow:0 6px 20px rgba(255,183,3,0.15);}to{box-shadow:0 6px 25px rgba(255,183,3,0.25);}}
    .modal-footer {
      display: flex; justify-content: space-between; padding: 20px; border-top: 1px solid #e6eef7; gap: 12px;
      background:linear-gradient(135deg, var(--bg1), var(--bg2)); border-radius:0 0 20px 20px;
    }
    .modal-footer button { flex: 1; padding: 12px; border-radius:12px; font-weight:500; transition:transform 0.2s; }
    .modal-footer button:hover { transform:scale(1.05); }
    #prevStep, #finishTour { display: none; }
    #finishTour{background:linear-gradient(135deg,var(--success),#218838);color:#fff;}
    #mentorLog { height: 320px; overflow-y: auto; border: 1px solid #ddd; padding: 12px; border-radius:12px; }
    .ghost { background: transparent; border: 2px solid #ccc; }
    .streak-badge { background: linear-gradient(135deg, #ffd700, #ffed4e); color: #b8860b; animation:fire 2s infinite; }
    @keyframes fire{0%,100%{opacity:1;}50%{opacity:0.8;transform:scale(1.05);}}
    .challenge-card { background: linear-gradient(135deg, #e8f5e8, #f0f8f0); border-left: 5px solid var(--success); }
    .challenge-item { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid #e0e0e0; transition:all 0.3s; }
    .challenge-item:hover { transform:translateX(5px); }
    .challenge-item.completed { text-decoration: line-through; color: #888; animation:completeCheck 0.5s ease-out; }
    @keyframes completeCheck{0%{opacity:1;}50%{opacity:0.5;transform:scale(0.98);}100%{opacity:0.7;transform:scale(1);}}
    .reward-popup { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 30px; border-radius: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.3); z-index: 2000; display: none; text-align: center; }
    @keyframes popupBounce{0%{transform:translate(-50%,-50%) scale(0.8);}50%{transform:translate(-50%,-50%) scale(1.1);}100%{transform:translate(-50%,-50%) scale(1);}}
    .confetti { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1001; }
    .level-locked { opacity: 0.5; pointer-events: none; }
    .activity-result { margin-top: 16px; padding: 12px; border-radius: 8px; background: #f8f9fa; animation:resultSlide 0.4s ease-out; }
    @keyframes resultSlide{from{opacity:0;transform:translateY(10px);}to{opacity:1;transform:translateY(0);}}
    .upi-stats { font-weight: bold; color: var(--success); }
  </style>
</head>
<body>
  <div class="confetti" id="confetti"></div>
  <div class="reward-popup" id="rewardPopup">
    <h2 id="rewardTitle">Achievement Unlocked! üéâ</h2>
    <p id="rewardMsg">You've earned +10 points!</p>
    <button id="closeRewardBtn">Awesome! üöÄ</button>
  </div>
  <div class="container">
    <header class="topbar">
      <h1>FinTeens üöÄ - 2025 Edition</h1>
      <div class="top-actions">
        <span id="userNameDisplay"></span>
        <span id="streakDisplay" class="badge streak-badge" style="display:none;">Streak: 0 üî•</span>
        <button id="resetBtn" title="Reset demo">üîÑ Reset</button>
      </div>
    </header>

    <main id="app">
      <section id="onboard" class="card center">
        <h2>Welcome to FinTeens üëã‚ú®</h2>
        <p style="font-size:16px;">Learn money by playing ‚Äî quick, fun lessons for teens. Updated for 2025 with RBI & SEBI latest!</p>
        <input id="name" placeholder="Your name (e.g., Asha)" />
        <input id="age" placeholder="Age (10-19)" type="number" min="10" max="19" />
        <div class="row">
          <button id="startBtn">Start Adventure üåü</button>
          <button id="tourBtn" class="ghost">Take a quick tour üéâ</button>
        </div>
      </section>

      <section id="dashboard" class="hidden">
        <div class="row space">
          <div class="card small welcomeCard">
            <h3 id="welcomeMsg" style="color:var(--primary);">Hi!</h3>
            <p id="levelMsg" style="font-weight:500;">Level: <span id="level">1</span> ‚Ä¢ Points: <span id="points">0</span></p>
            <div class="progressbar"><div id="bar" class="bar"></div></div>
          </div>

          <div class="card small actions">
            <button id="quizBtn">Daily Quiz üéØ</button>
            <button id="hubBtn">Learning Hub üìö</button>
            <button id="activitiesBtn">Fun Activities üéÆ</button>
            <button id="mentorBtn">Ask Mentor ü§ñ</button>
            <button id="challengesBtn">Challenges ‚ö°</button>
          </div>
        </div>

        <div class="card badgesCard">
          <h4 style="color:var(--primary);">Your Badges üèÖ</h4>
          <div id="badges" class="badges"></div>
        </div>

        <div class="card small tipsCard">
          <h4 style="color:var(--accent);">Tip of the day üí°</h4>
          <p id="tipText">RBI now lets teens 10+ run their own savings accounts‚Äîstart yours today! üå± (2025 Update)</p>
        </div>

        <!-- New Challenges Section -->
        <div id="challenges" class="card challenge-card hidden">
          <h4 style="color:var(--success);">Daily Challenges ‚ö°</h4>
          <div id="challengeList">
            <div class="challenge-item" data-challenge="quiz">Complete today's quiz <span class="muted">(+20 pts)</span></div>
            <div class="challenge-item" data-challenge="lesson">Finish one lesson <span class="muted">(+15 pts)</span></div>
            <div class="challenge-item" data-challenge="activity">Complete a fun activity <span class="muted">(+25 pts)</span></div>
            <div class="challenge-item" data-challenge="mentor">Ask the mentor a question <span class="muted">(+10 pts)</span></div>
            <div class="challenge-item" data-challenge="stock">Play stock mini-game <span class="muted">(+30 pts)</span></div>
            <div class="challenge-item" data-challenge="literacy">Complete Literacy Week lesson <span class="muted">(+20 pts)</span></div>
          </div>
          <button id="claimRewards" class="ghost" style="margin-top:10px;">Claim All Rewards! üéÅ</button>
        </div>
      </section>

      <section id="quiz" class="card hidden">
        <h2>Daily Quiz üéØ‚ú®</h2>
        <p class="muted">Earn points for correct answers. Complete all Qs to finish & unlock badges! Updated for 2025 trends.</p>
        <div id="questionArea"></div>
        <div id="answers"></div>
        <div class="row">
          <button id="prevQ" class="ghost hidden">‚¨Ö Previous</button>
          <button id="nextQ" class="ghost hidden">Next ‚û°</button>
          <button id="finish" class="hidden">Finish Quiz & Celebrate! üéä</button>
          <button id="quitQuiz" class="ghost">Back to Dash üîô</button>
        </div>
      </section>

      <section id="hub" class="card hidden">
        <h2>Learning Hub üìöüåü</h2>
        <p class="muted">Unlock more lessons as you level up! Current Level: <span id="hubLevel"></span>. Featuring 2025 RBI/SEBI updates.</p>
        <div class="cardsGrid">
          <div class="learnCard">
            <h3>Budgeting Basics üí∞</h3>
            <p>Learn a simple 3-step budget: Save, Spend, Share. Master your money magic!</p>
            <button class="learnBtn" data-topic="budget">Dive In! üîç</button>
          </div>
          <div class="learnCard">
            <h3>Smart Saving üê∑</h3>
            <p>Why saving matters and how small goals help. Turn pennies into power! (Rates up to 8.05% in 2025 RBI bonds)</p>
            <button class="learnBtn" data-topic="saving">Explore! üöÄ</button>
          </div>
          <div class="learnCard">
            <h3>Digital Payments üì±</h3>
            <p>UPI, wallets, and safe payment habits. UPI hit 10,637 crore txns in H1 2025‚Äîgo cashless like a pro!</p>
            <button class="learnBtn" data-topic="digital">Learn More! üí≥</button>
          </div>
          <div class="learnCard">
            <h3>Safe Investing (SEBI Tips) üìà</h3>
            <p>Beginner tips from SEBI on smart, safe investing for teens. Grow your future with compounding!</p>
            <button class="learnBtn" data-topic="investing" id="investBtn">Start Investing! üå±</button>
          </div>
          <div class="learnCard level-locked" id="loansCard" style="display:none;">
            <h3>Understanding Loans üè¶</h3>
            <p>Good vs bad debt, interest rates, and how to borrow wisely.</p>
            <button class="learnBtn" data-topic="loans">Borrow Smart! üí°</button>
          </div>
          <div class="learnCard level-locked" id="insuranceCard" style="display:none;">
            <h3>Insurance Essentials üõ°</h3>
            <p>Why you need it, types like health and life insurance for teens.</p>
            <button class="learnBtn" data-topic="insurance">Protect Yourself! üîí</button>
          </div>
          <div class="learnCard level-locked" id="entreCard" style="display:none;">
            <h3>Teen Entrepreneurship üíº</h3>
            <p>Start your side hustle: Ideas, budgeting for business.</p>
            <button class="learnBtn" data-topic="entre">Launch Your Biz! üöÄ</button>
          </div>
          <!-- New 2025 Lesson -->
          <div class="learnCard level-locked" id="literacyCard" style="display:none;">
            <h3>Financial Literacy Week 2025 üåü</h3>
            <p>Theme: Women's Prosperity. RBI's annual drive‚Äîlearn inclusion & empowerment tips.</p>
            <button class="learnBtn" data-topic="literacy">Join the Week! üìÖ</button>
          </div>
        </div>
        <div id="lesson" class="lesson hidden card small"></div>
        <div class="row">
          <button id="backDash" class="ghost">Back to Dashboard üîô</button>
        </div>
      </section>

      <section id="activities" class="card hidden">
        <h2>Fun Activities üéÆüåü</h2>
        <p class="muted">Interactive games to reinforce learning. Earn extra points and badges! New 2025 UPI simulator added.</p>
        <div class="cardsGrid">
          <div class="activityCard">
            <h3>Budget Simulator üí∞</h3>
            <p>Allocate ‚Çπ1000 pocket money to categories. See how choices affect savings!</p>
            <button class="activityBtn" id="startBudgetBtn">Play Now! üéØ</button>
          </div>
          <div class="activityCard">
            <h3>Savings Goal Calculator üê∑</h3>
            <p>Set a goal and see how long it takes to save with interest! (2025 RBI rates)</p>
            <button class="activityBtn" id="startSavingsBtn">Calculate! üìä</button>
          </div>
          <div class="activityCard level-locked" id="stockGameCard" style="display:none;">
            <h3>Stock Market Mini-Game üìà</h3>
            <p>Make virtual investments and track returns. Risk vs reward! Enhanced with SEBI tips.</p>
            <button class="activityBtn" onclick="startStockActivity()">Invest Virtually! üé≤</button>
          </div>
          <!-- New Activity -->
          <div class="activityCard">
            <h3>UPI Transaction Simulator üì±</h3>
            <p>Simulate safe UPI payments and learn fraud avoidance. Based on 2025 volumes!</p>
            <button class="activityBtn" id="startUPIBtn">Send UPI! ‚ö°</button>
          </div>
        </div>
        <div id="activityArea" class="hidden card small"></div>
        <div class="row">
          <button id="backDashAct" class="ghost">Back to Dashboard üîô</button>
        </div>
      </section>

      <section id="mentor" class="card hidden">
        <h2>AI Mentor ‚Äî Money Buddy ü§ñüí¨</h2>
        <p class="muted">Ask a simple question and get a friendly, fun answer. Updated with 2025 RBI/SEBI insights! Press Enter to send.</p>
        <div class="mentorBox">
          <div id="mentorLog" class="mentorLog"></div>
          <div style="position:relative;">
            <input id="mentorQ" placeholder="Type a question like: 'UPI stats 2025?' üí≠" />
          </div>
          <div class="row">
            <button id="askMentor">Ask Buddy! üöÄ</button>
            <button id="clearLog" class="ghost">Clear Chat üóë</button>
            <button id="backDash2" class="ghost">Back üîô</button>
          </div>
          <div id="quickQs" class="quick-questions">
            <button class="quick-btn" onclick="quickAsk('Budget tips?')">Budget tips?</button>
            <button class="quick-btn" onclick="quickAsk('UPI safe?')">UPI safe?</button>
            <button class="quick-btn" onclick="quickAsk('Invest for teens?')">Invest for teens?</button>
            <button class="quick-btn" onclick="quickAsk('RBI 2025 updates')">RBI 2025 updates</button>
            <button class="quick-btn" onclick="quickAsk('SEBI fraud tips')">SEBI fraud tips</button>
          </div>
        </div>
      </section>

      <footer class="card small center">
        <small>Prototype demo ‚Äî no server. Works offline in browser. Updated Oct 2025 with latest RBI/SEBI data. Built for hackathon with love! ‚ù§</small>
      </footer>
    </main>
  </div>

  <!-- Enhanced MVP Modal -->
  <div id="mvpModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modalTitle">Welcome Tour üåü</h3>
        <button id="closeModal" class="close-btn">&times;</button>
      </div>
      <div class="modal-body">
        <p id="modalText">This is the MVP modal for FinTeens! Swipe through features: Quiz for points, Hub for lessons, Mentor for tips. Let's make finance fun! üéâ Updated for 2025.</p>
        <div id="modalSteps" class="steps">
          <!-- Dynamic steps populated by JS -->
        </div>
      </div>
      <div class="modal-footer">
        <button id="prevStep" class="ghost">‚¨Ö Previous</button>
        <button id="nextStep">Next ‚û°</button>
        <button id="finishTour">Got It! üöÄ</button>
      </div>
    </div>
  </div>

  <script>
    // Minimal functional JS to test interactions
    const state = {
      name: '',
      age: null,
      level: 1,
      points: 0,
      badges: [],
      streak: 0
    };

    // Sample quiz (5 questions)
    const sampleQuestions = [
      {q:"What is a budget?", options:["A plan for money","A bank account","A phone app"], a:0, explain:"A budget helps you plan spending and saving."},
      {q:"If you save ‚Çπ50 every week, what happens after 4 weeks?", options:["You have ‚Çπ200 saved","You lose money","You must spend it"], a:0, explain:"‚Çπ50 x 4 = ‚Çπ200 saved."},
      {q:"What does UPI help you do?", options:["Send money instantly","Grow plants","Write code"], a:0, explain:"UPI lets you send payments instantly using your phone."},
      {q:"What is interest?", options:["Extra money paid on savings","A loan term","A password"], a:0, explain:"Interest is money your savings can earn over time."},
      {q:"Who regulates the stock market in India?", options:["SEBI","RBI alone","The post office"], a:0, explain:"SEBI is the primary regulator for securities markets."}
    ];

    // DOM refs
    const onboard = document.getElementById('onboard');
    const dashboard = document.getElementById('dashboard');
    const quiz = document.getElementById('quiz');
    const hub = document.getElementById('hub');
    const activities = document.getElementById('activities');
    const mentor = document.getElementById('mentor');
    const confetti = document.getElementById('confetti');
    const rewardPopup = document.getElementById('rewardPopup');
    const closeRewardBtn = document.getElementById('closeRewardBtn');

    // Elements
    const nameIn = document.getElementById('name');
    const ageIn = document.getElementById('age');
    const startBtn = document.getElementById('startBtn');
    const tourBtn = document.getElementById('tourBtn');
    const userNameDisplay = document.getElementById('userNameDisplay');
    const welcomeMsg = document.getElementById('welcomeMsg');
    const levelEl = document.getElementById('level');
    const pointsEl = document.getElementById('points');
    const barEl = document.getElementById('bar');
    const badgesEl = document.getElementById('badges');
    const quizBtn = document.getElementById('quizBtn');
    const hubBtn = document.getElementById('hubBtn');
    const activitiesBtn = document.getElementById('activitiesBtn');
    const mentorBtn = document.getElementById('mentorBtn');
    const challengesBtn = document.getElementById('challengesBtn');
    const quizQuestionArea = document.getElementById('questionArea');
    const answersEl = document.getElementById('answers');
    const quitQuiz = document.getElementById('quitQuiz');
    const finishBtn = document.getElementById('finish');
    const mentorLog = document.getElementById('mentorLog');
    const mentorQ = document.getElementById('mentorQ');

    // Modal elements
    const mvpModal = document.getElementById('mvpModal');
    const closeModal = document.getElementById('closeModal');
    const modalSteps = document.getElementById('modalSteps');
    const nextStep = document.getElementById('nextStep');
    const prevStep = document.getElementById('prevStep');
    const finishTour = document.getElementById('finishTour');

    // Activity elements
    const activityArea = document.getElementById('activityArea');
    const startUPIBtn = document.getElementById('startUPIBtn');
    const startBudgetBtn = document.getElementById('startBudgetBtn');
    const startSavingsBtn = document.getElementById('startSavingsBtn');

    // Simple persistence
    function saveState(){ localStorage.setItem('finteens_state', JSON.stringify(state)); }
    function loadState(){
      const s = localStorage.getItem('finteens_state');
      if(s){ Object.assign(state, JSON.parse(s)); updateUI(); }
    }

    // Initialize
    loadState();

    function updateUI(){
      userNameDisplay.textContent = state.name ? ${state.name} : '';
      welcomeMsg.textContent = state.name ? Hi ${state.name}! : 'Hi!';
      levelEl.textContent = state.level;
      pointsEl.textContent = state.points;
      barEl.style.width = Math.min(100, state.points) + '%';
      // badges
      badgesEl.innerHTML = '';
      state.badges.forEach(b => {
        const d = document.createElement('div'); d.className='badge'; d.textContent = b; badgesEl.appendChild(d);
      });
      const streak = document.getElementById('streakDisplay');
      if(state.streak > 0){ streak.style.display = 'inline-block'; streak.textContent = Streak: ${state.streak} üî•; } else { streak.style.display = 'none'; }
    }

    // Navigation helpers
    function showSection(sec){
      [onboard,dashboard,quiz,hub,activities,mentor].forEach(s=>s.classList.add('hidden'));
      sec.classList.remove('hidden');
    }

    // Onboarding
    startBtn.addEventListener('click', ()=>{
      const n = nameIn.value.trim(); const a = parseInt(ageIn.value,10);
      if(!n || !a || a < 10 || a > 19){ alert('Please enter a valid name and age (10-19).'); return; }
      state.name = n; state.age = a;
      state.points = state.points || 0;
      state.level = state.level || 1;
      saveState();
      updateUI();
      showSection(dashboard);
      onboard.classList.add('hidden');
    });

    tourBtn.addEventListener('click', openModal);
    closeModal.addEventListener('click', ()=>mvpModal.classList.add('hidden'));

    // Modal tour content
    const stepsContent = [
      {title:'Quiz for Points', text:'Take a short daily quiz to earn points and badges.'},
      {title:'Learning Hub', text:'Explore lessons ‚Äî unlock advanced lessons as you level up.'},
      {title:'AI Mentor', text:'Ask simple questions and get friendly guidance.'},
      {title:'Activities', text:'Play simulators like UPI and budget games.'},
      {title:'Challenges', text:'Complete daily challenges and claim rewards.'}
    ];
    let currentStep = 0;
    function openModal(){
      modalSteps.innerHTML = '';
      stepsContent.forEach((s,i)=>{
        const div = document.createElement('div'); div.className='step'; if(i===0) div.classList.add('active');
        div.innerHTML = <strong>${s.title}</strong><div style="margin-top:6px">${s.text}</div>;
        modalSteps.appendChild(div);
      });
      currentStep = 0;
      updateModalButtons();
      mvpModal.classList.remove('hidden');
    }
    function updateModalButtons(){
      prevStep.style.display = currentStep > 0 ? 'inline-block' : 'none';
      nextStep.style.display = currentStep < stepsContent.length-1 ? 'inline-block' : 'none';
      finishTour.style.display = currentStep === stepsContent.length-1 ? 'inline-block' : 'none';
      Array.from(modalSteps.children).forEach((c,i)=> c.classList.toggle('active', i===currentStep));
    }
    nextStep.addEventListener('click', ()=>{ if(currentStep < stepsContent.length-1) currentStep++; updateModalButtons(); });
    prevStep.addEventListener('click', ()=>{ if(currentStep > 0) currentStep--; updateModalButtons(); });
    finishTour.addEventListener('click', ()=>{ mvpModal.classList.add('hidden'); });

    // Dashboard buttons
    quizBtn.addEventListener('click', ()=>{ showSection(quiz); startQuiz(); });
    hubBtn.addEventListener('click', ()=>{ showSection(hub); document.getElementById('hubLevel').textContent = state.level; });
    activitiesBtn.addEventListener('click', ()=>{ showSection(activities); });
    mentorBtn.addEventListener('click', ()=>{ showSection(mentor); });
    challengesBtn.addEventListener('click', ()=>{ dashboard.classList.add('hidden'); document.getElementById('challenges').classList.toggle('hidden'); });

    // Reset
    document.getElementById('resetBtn').addEventListener('click', ()=>{
      if(confirm('Reset demo state?')){ localStorage.removeItem('finteens_state'); location.reload(); }
    });

    // Quiz logic
    let qIndex = 0;
    let quizScore = 0;
    function startQuiz(){
      qIndex = 0; quizScore = 0; finishBtn.classList.add('hidden');
      renderQuestion();
    }
    function renderQuestion(){
      const q = sampleQuestions[qIndex];
      quizQuestionArea.innerHTML = <h3>Q${qIndex+1}. ${q.q}</h3><p class="muted">Choose one answer</p>;
      answersEl.innerHTML = '';
      q.options.forEach((opt,i)=>{
        const b = document.createElement('button'); b.textContent = opt;
        b.addEventListener('click', ()=>{
          Array.from(answersEl.children).forEach(c=>c.disabled=true);
          if(i === q.a){ b.classList.add('correct'); quizScore += 10; state.points += 10; state.streak +=1; state.badges = state.badges || []; }
          else { b.classList.add('wrong'); state.streak = 0; }
          saveState(); updateUI();
          const expl = document.createElement('div'); expl.className='muted'; expl.style.marginTop='8px'; expl.textContent = q.explain; answersEl.appendChild(expl);
          if(qIndex < sampleQuestions.length-1){ setTimeout(()=>{ qIndex++; renderQuestion(); }, 800); } else { finishBtn.classList.remove('hidden'); }
        });
        answersEl.appendChild(b);
      });
    }

    finishBtn.addEventListener('click', ()=>{
      const gained = quizScore;
      document.getElementById('rewardTitle').textContent = 'Quiz Complete! üéâ';
      document.getElementById('rewardMsg').textContent = You earned ${gained} points!;
      showReward(gained);
      // award a simple badge
      if(!state.badges.includes('Quiz Whiz')) state.badges.push('Quiz Whiz');
      saveState(); updateUI();
    });

    quitQuiz.addEventListener('click', ()=>{ showSection(dashboard); });

    // Reward popup + confetti (simple)
    function showReward(points){
      rewardPopup.style.display = 'block';
      confetti.innerHTML = '';
      for(let i=0;i<30;i++){
        const em = document.createElement('div'); em.style.position='absolute';
        em.style.left = Math.random()*100 + '%'; em.style.top = Math.random()*100 + '%';
        em.style.fontSize = (8+Math.random()*22) + 'px'; em.textContent = ['üéâ','‚ú®','üí´','üèÖ','üéà'][Math.floor(Math.random()*5)];
        em.style.opacity = Math.random()*0.9;
        confetti.appendChild(em);
      }
      // Auto hide after 3s
      setTimeout(()=>{ closeReward(); }, 3000);
    }
    function closeReward(){
      rewardPopup.style.display = 'none';
      confetti.innerHTML = '';
      saveState(); updateUI();
    }
    closeRewardBtn.addEventListener('click', closeReward);

    // Mentor interactions (simple canned replies)
    function appendMentorEntry(text, who='bot'){
      const div = document.createElement('div'); div.className = who==='bot' ? 'mentorBot' : 'mentorEntry';
      const av = document.createElement('div'); av.className='mentor-avatar'; av.textContent = who==='bot' ? 'ü§ñ' : 'üôÇ';
      const content = document.createElement('div'); content.className='mentor-content';
      const ts = document.createElement('div'); ts.className='mentor-timestamp'; ts.textContent = new Date().toLocaleTimeString();
      const t = document.createElement('div'); t.className='mentor-text'; t.textContent = text;
      content.appendChild(ts); content.appendChild(t);
      div.appendChild(av); div.appendChild(content);
      mentorLog.appendChild(div);
      mentorLog.scrollTop = mentorLog.scrollHeight;
    }

    function quickAsk(q){ mentorQ.value = q; askMentorHandler(); }
    document.getElementById('askMentor').addEventListener('click', askMentorHandler);
    mentorQ.addEventListener('keydown', (e)=>{ if(e.key==='Enter') askMentorHandler(); });

    function askMentorHandler(){
      const q = mentorQ.value.trim();
      if(!q) return;
      appendMentorEntry(q, 'user');
      mentorQ.value = '';
      setTimeout(()=>{
        const reply = getMentorReply(q);
        appendMentorEntry(reply, 'bot');
        // small reward for interacting
        state.points += 5; state.streak += 1; saveState(); updateUI();
      }, 600);
    }
    function getMentorReply(q){
      const text = q.toLowerCase();
      if(text.includes('upi')) return 'UPI is safe if you verify the recipient and keep your UPI pin private. In 2025, UPI volumes have grown a lot‚Äîstay cautious of phishing links.';
      if(text.includes('budget')) return 'Try the 50/30/20 rule: 50% needs, 30% wants, 20% savings. Start small and be consistent.';
      if(text.includes('invest')) return 'For teens, start with small SIPs and diversify. SEBI recommends learning basics before investing.';
      if(text.includes('rbi')) return 'RBI manages monetary policy and regulates banks. It releases updates on interest trends periodically.';
      return "Great question! Learn by trying the quiz and lessons ‚Äî and I can point you to a lesson if you'd like.";
    }

    document.getElementById('clearLog').addEventListener('click', ()=>{ mentorLog.innerHTML=''; });

    // Activities (UPI simulator, simple)
    startUPIBtn && startUPIBtn.addEventListener('click', startUPIActivity);
    startBudgetBtn && startBudgetBtn.addEventListener('click', startBudgetActivity);
    startSavingsBtn && startSavingsBtn.addEventListener('click', startSavingsActivity);

    function startUPIActivity(){
      activityArea.classList.remove('hidden'); activityArea.innerHTML = `
        <h3>UPI Simulator</h3>
        <p>Send ‚Çπ100 to "friend@upi" and decide if it's safe.</p>
        <div style="display:flex;gap:8px;margin-top:12px;">
          <button id="sendOK" class="ghost">Send (Verified) ‚úÖ</button>
          <button id="sendPhish" class="ghost">Send (Phishy link) ‚ö†</button>
        </div>
        <div id="activityResult" class="activity-result"></div>
      `;
      document.getElementById('sendOK').addEventListener('click', ()=>{
        document.getElementById('activityResult').textContent = 'Transaction successful. You earned +15 pts!';
        state.points += 15; state.badges.push('UPI Pro'); saveState(); updateUI();
      });
      document.getElementById('sendPhish').addEventListener('click', ()=>{
        document.getElementById('activityResult').textContent = 'Blocked! This looked suspicious. No money lost and you learned something üëç';
        state.points += 5; saveState(); updateUI();
      });
    }

    function startBudgetActivity(){
      activityArea.classList.remove('hidden'); activityArea.innerHTML = `
        <h3>Budget Simulator</h3>
        <p>Allocate from ‚Çπ1000: Enter % to save (e.g., 30)</p>
        <input id="savePct" placeholder="Percent to Save (0-100)" />
        <div style="display:flex;gap:8px;margin-top:12px;">
          <button id="calcBudget" class="ghost">Calculate</button>
        </div>
        <div id="budgetResult" class="activity-result"></div>
      `;
      document.getElementById('calcBudget').addEventListener('click', ()=>{
        const p = parseFloat(document.getElementById('savePct').value);
        if(isNaN(p) || p<0 || p>100){ alert('Enter a valid percent 0-100'); return; }
        const saved = Math.round(1000*(p/100));
        document.getElementById('budgetResult').textContent = You saved ‚Çπ${saved}. Good job!;
        state.points += Math.round(saved/50); saveState(); updateUI();
      });
    }

    function startSavingsActivity(){
      activityArea.classList.remove('hidden'); activityArea.innerHTML = `
        <h3>Savings Goal Calculator</h3>
        <p>Goal: ‚Çπ<input id="goalAmt" type="number" value="1000" style="width:120px" /> Monthly save: ‚Çπ<input id="monthly" type="number" value="100" style="width:120px" /></p>
        <div style="display:flex;gap:8px;margin-top:12px;">
          <button id="calcSave" class="ghost">How long?</button>
        </div>
        <div id="saveResult" class="activity-result"></div>
      `;
      document.getElementById('calcSave').addEventListener('click', ()=>{
        const goal = parseFloat(document.getElementById('goalAmt').value);
        const monthly = parseFloat(document.getElementById('monthly').value);
        if(isNaN(goal) || isNaN(monthly) || monthly<=0){ alert('Enter valid numbers'); return; }
        const months = Math.ceil(goal/monthly);
        document.getElementById('saveResult').textContent = At ‚Çπ${monthly}/mo you'll reach ‚Çπ${goal} in ${months} months.;
        state.points += Math.min(10, Math.floor(monthly/20)); saveState(); updateUI();
      });
    }

    // Claim challenges (simple)
    document.getElementById('claimRewards').addEventListener('click', ()=>{
      // give some points and mark all complete
      state.points += 50;
      [...document.querySelectorAll('#challengeList .challenge-item')].forEach(c=>c.classList.add('completed'));
      saveState(); updateUI();
      document.getElementById('rewardTitle').textContent = 'Challenges Claimed! üéÅ';
      document.getElementById('rewardMsg').textContent = 'You earned 50 points for completing challenges!';
      showReward(50);
    });

    // Basic load UI
    updateUI();

    // If user already onboarded show dashboard
    if(state.name && state.age){ onboard.classList.add('hidden'); showSection(dashboard); } else { showSection(onboard); }

  </script>
</body>
</html>
